## Задание 3. Открытие депозитов онлайн

### <a name="_b7urdng99y53"></a>**Название задачи: Открытие депозитов онлайн** 
### <a name="_hjk0fkfyohdk"></a>**Автор: kuznechek**
### <a name="_uanumrh8zrui"></a>**Дата: 30.10.2025**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**
Опишите здесь верхнеуровневые Use Cases. Их нужно оформить в виде таблицы с пошаговым описанием:


|  №  | Действующие лица или системы         | Use Case                                     | Описание                                                                                                  |
|-----|--------------------------------------|----------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| UC0 | Клиент                               | Просмотр списка депозитов на сайте           | Новый клиент заходит на сайт и видит список доступных депозитов с актуальными ставками                    |
| UC1 | Клиент                               | Подача заявки на депозит через сайт          | Клиент авторизуется, созадёт заявку на депозит                                                            |
| UC2 | Менеджер кол-центра                  | Обработка заявки клиента                     | Менеджер может предложить клиенту персональные условия                                                    |
| UC3 | Клиент, сотрудник отделения          | Идентификация в отделении                    | Клиент приходит в отделение для личной проверки документов                                                |
| UC4 | Клиент                               | Просмотр списка депозитов в интернет-банке   | Авторизованный клиент видит список депозитов с актуальными и персонализированными ставками                |
| UC5 | Клиент                               | Подача заявки на депозит через интернет-банк | Клиент выбирает счёт, сумму депозита, подаёт заявку на открытие депозита, подтверждает открытие СМС-кодом |
| UC6 | Бэк-офис                             | Подтверждение условий депозита               | Сотрудник бэк-офиса подтверждает условия депозита в АБС банка                                             |
| UC7 | Система банка                        | Отправка СМС клиенту                         | После подтверждения ставки и открытия депозита клиент получает СМС-уведомление                            |
| UC8 | Менеджер бэк-офиса                   | Работа со ставками депозитов                 | Сотрудники работают с актуальными ставками в АБС                                                          |


### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
Опишите здесь нефункциональные требования и архитектурно значимые требования.

|  № | **Требование**                                                                  |
|----|---------------------------------------------------------------------------------|
| R0 | Доступность 99.9%, 24/7                                                         |
| R1 | Бесперебойность, переключения между ЦОД                                         |
| R2 | Шифрование данных при передаче между системами                                  |
| R3 | Разграничение доступа к данным между сотрудниками                               |
| R4 | Текущая версия платформы интернет-банка несовместима с Kafka                    |
| R5 | Поддержка существующего стека технологий                                        |

### <a name="_qmphm5d6rvi3"></a>**Решение**
Приведите диаграммы контекста и контейнеров в модели C4. Опишите там основные компоненты и интеграции всех элементов решения.

**[Диаграмма контекста](https://github.com/kuznechek/architecture-pro-standart/blob/standart/Task3/context.puml)**

![Диаграмма контекста](https://github.com/kuznechek/architecture-pro-standart/blob/standart/Task3/context.png)

**[Диаграмма контейнеров](https://github.com/kuznechek/architecture-pro-standart/blob/standart/Task3/containers.puml)**

![Диаграмма контейнеров](https://github.com/kuznechek/architecture-pro-standart/blob/standart/Task3/containers.png)


Также опишите, какой логикой вы руководствовались в ходе принятия решений и выбора технологий. Не забывайте, что необходимо учесть все функциональные и нефункциональные требования.

Ддя решения данных задач будет реализован новый микросервис, управляющий заявками на депозит. Микросервис будет реализован на платформе .NET, так как C# отлично подходит для задач данного типа.
К данному сервису можно будет подключить как Kafka, так и отдельную БД Postgres для хранения заявок.
Будет использован SSL/TLS (SslStream), что бы обеспечить асимметричное шифрование для аутентификации.
Также выбор стека позволит использовать ту же команду, что разрабатывала монолит.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**
Опишите здесь наиболее важные альтернативные решения.

Одной из имеющихся альтернатив можно назвать расширение текущего монолита. Из плюсов здесь можно выделить возможность использовать имеющуюся инфраструктуру и общую аутинтефикацию. Однако такой вариант утяжелит архитектуру, усиливает связность компонентов, что скажется как на производительности, так и на сложности дальнейшей разработки.

Также вариантом решения может быть реализация микросервиса на других языках программирования высокого уровня, но нужно быть уверенным в компетенции команды, так как ранее об экспертизе команды в этих направлениях информации не было.

### Ограничения:
0. Необходимо использовать совместимые с .NET технологии
1. Ограниченная кастомизация кол-центра и интернет-банк

### Риски:
0. В случае сбоев у провайдера все процессы, связанные с СМС-информированием ставятся на паузу
1. Риск перегрузки АБС при росте нагрузки
2. Новые точки авторизации требуют дополнительной защиты
3. Миграция Excel в новую систему
